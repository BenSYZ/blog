<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>github 使用key 来pull fetch</title><script src=/js/if_mobile.js></script>
<script>!function(){$("pre > code").each(function(){var s,n=$(this).parent().attr("class");n==null||n===""?$(this).addClass("hljs"):(s={js:"javascript"},s[n]&&(n=s[n]),$(this).addClass(n))})}</script><link rel=stylesheet href=/css/hljs/snazzy.css><link rel=stylesheet href=/css/hljs/line-numbers.min.css><script src=/js/hljs/highlight.min.js></script>
<script src=/js/hljs/highlightjs-line-numbers.min.js></script>
<script>hljs.highlightAll()</script><script>hljs.initLineNumbersOnLoad()</script><link rel=stylesheet href=/css/code.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/footer.css><link rel=stylesheet href=/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=icon id=light-scheme-icon href=/favicons/favicon_B_Light.ico type=image/x-icon><link rel=icon id=dark-scheme-icon href=/favicons/favicon_B_Dark.ico type=image/x-icon><script src=/js/favicon.js></script></head><body><div class=container><div class=header><h1>github 使用key 来pull fetch</h1>Wed, 2021-12-22<hr></div><div class=middle><div id=TitleWithToc><div id=TitleOfToc>github 使用key 来pull fetch</div></div><div id=content><h2 id=问题的出现>问题的出现</h2><p>github 似乎不能使用帐号密码来push了，我们这里介绍一下如何使用 rsa 密钥对来进行身份认证。</p><p>github 上有<a href=https://docs.github.com/cn/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account>文档</a></p><h2 id=如何操作>如何操作</h2><h3 id=生成密钥对>生成密钥对</h3><p>在<code>~/.ssh</code>下生成 rsa 非对称密钥对，可以把密钥名取为<code>github</code>，可以不用设置密码</p><pre class=shell><code>$ cd ~/.ssh/
$ ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/ben/.ssh/id_rsa): github</code></pre><p>非对称密钥对在我 <a href=../rsa_ssh/>ssh 免密登录</a>里有讲到一点。</p><p>于是我们得到了 <code>github</code> 这一密钥 和 <code>github.pub</code> 这一公钥。将 <code>github.pub</code> 中的内容拷贝出来，一会儿放在 github 上</p><h3 id=将公钥内容拷贝到-github-上>将公钥内容拷贝到 github 上</h3><ul><li>点击路径：头像-> Settings -> 左侧SSH and GPG keys</li><li>或者直接访问这个链接 <a href=https://github.com/settings/keys>https://github.com/settings/keys</a></li></ul><table><thead><tr class=header><th><img src=./figures/steps_to_keys.png alt="steps to keys"></th><th><img src=./figures/steps_to_keys2.png alt="steps to keys2"></th></tr></thead><tbody></tbody></table><p>然后就是 New SSH key</p><figure><img src=./figures/new_ssh_key.png alt><figcaption>new ssh key</figcaption></figure><p>把内容拷贝到 Key 框下，title 就是自己知道的标记</p><figure><img src=./figures/key_example.png alt><figcaption>key example</figcaption></figure><p><code>Add SSH key</code> 后这样远端的配置就好啦</p><h3 id=让本地密钥生效>让本地密钥生效</h3><p>远端的公钥准备好了，那如何使第一步中生成的密钥在 <code>git push</code> 时生效呢</p><pre class=sshconfig><code>host github.com
    HostName github.com
    IdentityFile ~/.ssh/github
    User git
    ForwardX11 no</code></pre><p><a href=../rsa_ssh/#附不用输入nameip的方法>ssh 免密登录</a>中有提到这点也有讲到。</p><p>github 的目标和 ssh 的差不多的:</p><div class=sourceCode id=cb3><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb3-1><a href=#cb3-1 aria-hidden=true></a><span class=fu>ssh</span> name@ip</span>
<span id=cb3-2><a href=#cb3-2 aria-hidden=true></a><span class=fu>git</span> clone git@github.com:BenSYZ/blog.git</span></code></pre></div><p>解释一下 <code>~/.ssh/config</code>：</p><ul><li><code>host</code> 的 <code>github.com</code> 其实对应的就是这里的<code>git@github.com</code>，你可以把它换成任意你喜欢的，但是为了方便，在github 拷贝的 clone 就是 <code>git@github.com:BenSYZ/blog.git</code>， 所以我们将它也设置成了 <code>github.com</code></li><li><code>Hostname</code>：是真正访问的地址</li><li><code>IdentityFile</code>：刚刚生成的密钥</li><li><code>User</code>：就是 <code>git@github.com:BenSYZ/blog.git</code> 中<code>@</code>前的用户名</li><li><code>ForwardX11</code>：若为yes 就等同于 <code>ssh -X</code> 这样就可以启动远程的图形界面啦。</li></ul></div><div id=Rsidebar><div id=Avatar><img alt=avatar src=/avatar.jpg></div><ul><li><a href=/about>About Me</a></li><li><a href=/donate>Donate Me</a></li><li><a href=/>Ben's Blog</a></li></ul>除非注明，本博客所有文章皆为原创。<br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</div></div><div class=footer><div id=tags><a href=https://bensyz.github.io/blog/tags><i class="fas fa-tags"></i></a>
Keywords:<ul><li><a href=https://bensyz.github.io/blog/tags/github>github</a></li><li><a href=https://bensyz.github.io/blog/tags/ssh>ssh</a></li><li><a href=https://bensyz.github.io/blog/tags/rsa>rsa</a></li><li><a href=https://bensyz.github.io/blog/tags/newbie>newbie</a></li></ul></div><footer><hr><a href=/>Ben's Blog</a><br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。<br><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33028102001039"><img alt=public_safety_record src=/icons/public_safety_icon.png>浙公网安备 33028102001039号</a>
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备2021032097号-1</a></footer></div></div></body></html>