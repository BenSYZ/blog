<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>为 Linux colemak 修改键</title><script src=/js/if_mobile.js></script>
<script>!function(){$("pre > code").each(function(){var s,n=$(this).parent().attr("class");n==null||n===""?$(this).addClass("hljs"):(s={js:"javascript"},s[n]&&(n=s[n]),$(this).addClass(n))})}</script><link rel=stylesheet href=/css/hljs/snazzy.css><link rel=stylesheet href=/css/hljs/line-numbers.min.css><script src=/js/hljs/highlight.min.js></script>
<script src=/js/hljs/highlightjs-line-numbers.min.js></script>
<script>hljs.highlightAll()</script><script>hljs.initLineNumbersOnLoad()</script><link rel=stylesheet href=/css/code.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/footer.css><link rel=stylesheet href=/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=icon id=light-scheme-icon href=/favicons/favicon_B_Light.ico type=image/x-icon><link rel=icon id=dark-scheme-icon href=/favicons/favicon_B_Dark.ico type=image/x-icon><script src=/js/favicon.js></script></head><body><div class=container><div class=header><h1>为 Linux colemak 修改键</h1>Wed, 2020-02-26<hr></div><div class=middle><div id=TitleWithToc><div id=TitleOfToc>为 Linux colemak 修改键</div></div><div id=content><p>我原先发于 <a href=https://blog.csdn.net/BenSYZ>CSDN</a></p><h2 id=change-keyboard-layout-as-colemak-and-esc-with-capslock>Change keyboard layout as colemak, and <code>&lt;Esc></code> with <code>&lt;CapsLock></code></h2><p>For Windows check <a href=../keyboard_map_windows>here</a></p><h3 id=tldr>TLDR</h3><div class=sourceCode id=cb1><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb1-1><a href=#cb1-1 aria-hidden=true></a><span class=co># tty</span></span>
<span id=cb1-2><a href=#cb1-2 aria-hidden=true></a><span class=co># /etc/vconsole.conf</span></span>
<span id=cb1-3><a href=#cb1-3 aria-hidden=true></a><span class=ex>KEYMAP</span> = colemak</span>
<span id=cb1-4><a href=#cb1-4 aria-hidden=true></a><span class=co># or</span></span>
<span id=cb1-5><a href=#cb1-5 aria-hidden=true></a><span class=fu>loadkeys</span> colemak</span>
<span id=cb1-6><a href=#cb1-6 aria-hidden=true></a></span>
<span id=cb1-7><a href=#cb1-7 aria-hidden=true></a><span class=co># graphic</span></span>
<span id=cb1-8><a href=#cb1-8 aria-hidden=true></a><span class=ex>setxkbmap</span> us -variant colemak</span></code></pre></div><h3 id=change-to-colemak>change to colemak</h3><h4 id=temporary>Temporary</h4><div class=sourceCode id=cb2><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb2-1><a href=#cb2-1 aria-hidden=true></a><span class=co># tty</span></span>
<span id=cb2-2><a href=#cb2-2 aria-hidden=true></a><span class=fu>loadkeys</span> colemak</span>
<span id=cb2-3><a href=#cb2-3 aria-hidden=true></a></span>
<span id=cb2-4><a href=#cb2-4 aria-hidden=true></a><span class=co># graphic</span></span>
<span id=cb2-5><a href=#cb2-5 aria-hidden=true></a><span class=ex>setxkbmap</span> us -variant colemak</span></code></pre></div><p><a href=https://www.cnblogs.com/BlackStorm/p/Ubuntu-Switch-Keyboard-Layouts-Such-As-Colemak-Workman-Norman.html>参考</a></p><h4 id=permanet>Permanet</h4><div class=sourceCode id=cb3><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb3-1><a href=#cb3-1 aria-hidden=true></a><span class=co># tty (include graphic)</span></span>
<span id=cb3-2><a href=#cb3-2 aria-hidden=true></a><span class=co># /etc/vconsole.conf </span></span>
<span id=cb3-3><a href=#cb3-3 aria-hidden=true></a><span class=ex>KEYMAP</span> = colemak</span></code></pre></div><p>The above way may not work for Ubuntu, so adding <code>setxkbmap us -variant colemak</code> in <code>~/.xinitrc</code> may worked. If not see the next section.</p><h3 id=map-esc-with-capslock>Map <code>Esc</code> with <code>CapsLock</code></h3><div class=sourceCode id=cb4><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb4-1><a href=#cb4-1 aria-hidden=true></a><span class=ex>setxkbmap</span> us -variant colemak</span>
<span id=cb4-2><a href=#cb4-2 aria-hidden=true></a><span class=fu>xmodmap</span> -pke <span class=op>&gt;</span> .xmodmap</span></code></pre></div><p>A small tip: show the key code by <code>xev</code></p><p>Then exchange the key codes of <code>&lt;esc></code> and <code>&lt;capslock></code> in <code>.xmodmap</code> file.</p><h4 id=temporary-1>Temporary</h4><div class=sourceCode id=cb5><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb5-1><a href=#cb5-1 aria-hidden=true></a><span class=fu>xmodmap</span> ./.xmodmap</span></code></pre></div><h4 id=permanet-1>Permanet</h4><h5 id=i3-wm>i3-wm</h5><p>In <code>~/.config/i3/config</code></p><pre class=config><code>exec_always sleep 1; xmodmap ~/.xmodmap</code></pre><h5 id=others-include-i3-wm>Others include i3-wm</h5><div class=sourceCode id=cb7><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb7-1><a href=#cb7-1 aria-hidden=true></a><span class=co># /usr/share/X11/xkb/keycodes/evdev</span></span>
<span id=cb7-2><a href=#cb7-2 aria-hidden=true></a><span class=co># exchange the keycodes of &lt;esc&gt; and &lt;capslock&gt;</span></span></code></pre></div><p>For ubuntu, you could try the following, I forget exactly</p><div class=sourceCode id=cb8><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb8-1><a href=#cb8-1 aria-hidden=true></a><span class=fu>sudo</span> dpkg-reconfigure keyboard-configuration</span></code></pre></div></div><div id=Rsidebar><div id=Avatar><img alt=avatar src=/avatar.jpg></div><ul><li><a href=/about>About Me</a></li><li><a href=/donate>Donate Me</a></li><li><a href=/>Ben's Blog</a></li></ul>除非注明，本博客所有文章皆为原创。<br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</div></div><div class=footer><div id=tags><a href=https://bensyz.github.io/blog/tags><i class="fas fa-tags"></i></a>
Keywords:<ul><li><a href=https://bensyz.github.io/blog/tags/colemak>colemak</a></li><li><a href=https://bensyz.github.io/blog/tags/keyboard>keyboard</a></li><li><a href=https://bensyz.github.io/blog/tags/Linux>Linux</a></li></ul></div><footer><hr><a href=/>Ben's Blog</a><br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。<br><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33028102001039"><img alt=public_safety_record src=/icons/public_safety_icon.png>浙公网安备 33028102001039号</a>
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备2021032097号-1</a></footer></div></div></body></html>