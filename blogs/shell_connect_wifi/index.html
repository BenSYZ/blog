<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>通过命令行连接 WiFi</title><script src=/js/if_mobile.js></script>
<script>!function(){$("pre > code").each(function(){var s,n=$(this).parent().attr("class");n==null||n===""?$(this).addClass("hljs"):(s={js:"javascript"},s[n]&&(n=s[n]),$(this).addClass(n))})}</script><link rel=stylesheet href=/css/hljs/snazzy.css><link rel=stylesheet href=/css/hljs/line-numbers.min.css><script src=/js/hljs/highlight.min.js></script>
<script src=/js/hljs/highlightjs-line-numbers.min.js></script>
<script>hljs.highlightAll()</script><script>hljs.initLineNumbersOnLoad()</script><link rel=stylesheet href=/css/code.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/footer.css><link rel=stylesheet href=/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=icon id=light-scheme-icon href=/favicons/favicon_B_Light.ico type=image/x-icon><link rel=icon id=dark-scheme-icon href=/favicons/favicon_B_Dark.ico type=image/x-icon><script src=/js/favicon.js></script></head><body><div class=container><div class=header><h1>通过命令行连接 WiFi</h1>Wed, 2020-02-26<hr></div><div class=middle><div id=TitleWithToc><div id=TitleOfToc>通过命令行连接 WiFi</div></div><div id=content><p>我原先发于 <a href=https://blog.csdn.net/BenSYZ>CSDN</a></p><h2 id=检查是哪一个接口来支持无线连接的>检查是哪一个接口来支持无线连接的：</h2><div class=sourceCode id=cb1><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb1-1><a href=#cb1-1 aria-hidden=true></a><span class=ex>iwconfig</span></span></code></pre></div><p>假定是wlan0，我的是wlp5s0</p><h2 id=启动接口服务>启动接口服务</h2><div class=sourceCode id=cb2><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb2-1><a href=#cb2-1 aria-hidden=true></a><span class=fu>sudo</span> ip link set wlan0 up</span></code></pre></div><h2 id=扫描附近的无线网络了>扫描附近的无线网络了：</h2><div class=sourceCode id=cb3><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb3-1><a href=#cb3-1 aria-hidden=true></a><span class=fu>sudo</span> iw dev wlan0 scan <span class=kw>|</span> <span class=fu>less</span></span></code></pre></div><h2 id=连接>连接</h2><h3 id=没有加密>没有加密：</h3><div class=sourceCode id=cb4><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb4-1><a href=#cb4-1 aria-hidden=true></a><span class=fu>sudo</span> iw dev wlan0 connect [网络 SSID]</span></code></pre></div><p>也可以通过<code>wpa_supplicant</code> 连接，见‘WPA or WPA2’。</p><h3 id=wep-加密的>WEP 加密的：</h3><div class=sourceCode id=cb5><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb5-1><a href=#cb5-1 aria-hidden=true></a><span class=fu>sudo</span> iw dev wlan0 connect [网络 SSID] key 0:[WEP 密钥]</span></code></pre></div><h3 id=wpa-or-wpa2>WPA or WPA2</h3><ol type=1><li><code>/etc/wpasupplicant/wpa_supplicant.conf</code> 文件，增加如下行：</li></ol><p>network={ ssid=“[网络 ssid]” psk=“[密码]” priority=1}</p><p><code>/etc/wpasupplicant/wpa_supplicant.conf</code></p><div class=sourceCode id=cb6><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb6-1><a href=#cb6-1 aria-hidden=true></a><span class=va>country=</span>CN</span>
<span id=cb6-2><a href=#cb6-2 aria-hidden=true></a><span class=va>update_config=</span>1</span>
<span id=cb6-3><a href=#cb6-3 aria-hidden=true></a><span class=va>network=</span><span class=kw>{</span></span>
<span id=cb6-4><a href=#cb6-4 aria-hidden=true></a>    <span class=va>ssid=</span><span class=st>&quot;SSID&quot;</span></span>
<span id=cb6-5><a href=#cb6-5 aria-hidden=true></a>    <span class=va>psk=</span><span class=st>&quot;Passwd&quot;</span></span>
<span id=cb6-6><a href=#cb6-6 aria-hidden=true></a>    <span class=va>key_mgmt=</span>WPA-PSK</span>
<span id=cb6-7><a href=#cb6-7 aria-hidden=true></a>    <span class=va>priority=</span>9</span>
<span id=cb6-8><a href=#cb6-8 aria-hidden=true></a>    <span class=va>id_str=</span><span class=st>&quot;identify which wifi is&quot;</span></span>
<span id=cb6-9><a href=#cb6-9 aria-hidden=true></a><span class=kw>}</span></span>
<span id=cb6-10><a href=#cb6-10 aria-hidden=true></a></span>
<span id=cb6-11><a href=#cb6-11 aria-hidden=true></a><span class=va>network=</span><span class=kw>{</span></span>
<span id=cb6-12><a href=#cb6-12 aria-hidden=true></a>    <span class=va>ssid=</span><span class=st>&quot;SSID&quot;</span></span>
<span id=cb6-13><a href=#cb6-13 aria-hidden=true></a>    <span class=va>psk=</span><span class=st>&quot;Passwd&quot;</span></span>
<span id=cb6-14><a href=#cb6-14 aria-hidden=true></a>    <span class=va>key_mgmt=</span>WPA-PSK</span>
<span id=cb6-15><a href=#cb6-15 aria-hidden=true></a>    <span class=va>priority=</span>8</span>
<span id=cb6-16><a href=#cb6-16 aria-hidden=true></a>    <span class=va>id_str=</span><span class=st>&quot;identify which wifi is&quot;</span></span>
<span id=cb6-17><a href=#cb6-17 aria-hidden=true></a><span class=kw>}</span></span>
<span id=cb6-18><a href=#cb6-18 aria-hidden=true></a></span>
<span id=cb6-19><a href=#cb6-19 aria-hidden=true></a><span class=co># open wifi</span></span>
<span id=cb6-20><a href=#cb6-20 aria-hidden=true></a><span class=va>network=</span><span class=kw>{</span></span>
<span id=cb6-21><a href=#cb6-21 aria-hidden=true></a>    <span class=va>ssid=</span><span class=st>&quot;SSID&quot;</span></span>
<span id=cb6-22><a href=#cb6-22 aria-hidden=true></a>    <span class=va>key_mgmt=</span>NONE</span>
<span id=cb6-23><a href=#cb6-23 aria-hidden=true></a>    <span class=va>priority=</span>1</span>
<span id=cb6-24><a href=#cb6-24 aria-hidden=true></a>    <span class=va>id_str=</span><span class=st>&quot;identify which wifi is&quot;</span></span>
<span id=cb6-25><a href=#cb6-25 aria-hidden=true></a><span class=kw>}</span></span></code></pre></div><ol start=2 type=1><li><code>sudo wpa_supplicant -i wlan0 -c /etc/wpa_supplicant/wpa_supplicant.conf</code></li></ol><h2 id=通过-dhcp-获取ip>通过 DHCP 获取IP</h2><div class=sourceCode id=cb7><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb7-1><a href=#cb7-1 aria-hidden=true></a><span class=fu>sudo</span> dhcpcd wlan0</span></code></pre></div><hr><p>推荐阅读： <a href=https://blog.csdn.net/BenSYZ/article/details/104522084>archlinux 开机自动连接wifi</a></p></div><div id=Rsidebar><div id=Avatar><img alt=avatar src=/avatar.jpg></div><ul><li><a href=/about>About Me</a></li><li><a href=/donate>Donate Me</a></li><li><a href=/>Ben's Blog</a></li></ul>除非注明，本博客所有文章皆为原创。<br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</div></div><div class=footer><div id=tags><a href=https://bensyz.github.io/blog/tags><i class="fas fa-tags"></i></a>
Keywords:<ul><li><a href=https://bensyz.github.io/blog/tags/Linux>Linux</a></li><li><a href=https://bensyz.github.io/blog/tags/network>network</a></li></ul></div><footer><hr><a href=/>Ben's Blog</a><br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。<br><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33028102001039"><img alt=public_safety_record src=/icons/public_safety_icon.png>浙公网安备 33028102001039号</a>
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备2021032097号-1</a></footer></div></div></body></html>