<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>vim+colemak(keymap)+jupyterlab</title><script src=/js/if_mobile.js></script>
<script>!function(){$("pre > code").each(function(){var s,n=$(this).parent().attr("class");n==null||n===""?$(this).addClass("hljs"):(s={js:"javascript"},s[n]&&(n=s[n]),$(this).addClass(n))})}</script><link rel=stylesheet href=/css/hljs/snazzy.css><link rel=stylesheet href=/css/hljs/line-numbers.min.css><script src=/js/hljs/highlight.min.js></script>
<script src=/js/hljs/highlightjs-line-numbers.min.js></script>
<script>hljs.highlightAll()</script><script>hljs.initLineNumbersOnLoad()</script><link rel=stylesheet href=/css/code.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/footer.css><link rel=stylesheet href=/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=icon id=light-scheme-icon href=/favicons/favicon_B_Light.ico type=image/x-icon><link rel=icon id=dark-scheme-icon href=/favicons/favicon_B_Dark.ico type=image/x-icon><script src=/js/favicon.js></script></head><body><div class=container><div class=header><h1>vim+colemak(keymap)+jupyterlab</h1>Mon, 2020-08-03<hr></div><div class=middle><div id=TitleWithToc><div id=TitleOfToc>vim+colemak(keymap)+jupyterlab</div></div><div id=content><p>我原先发于 <a href=https://blog.csdn.net/BenSYZ>CSDN</a></p><p>推荐使用 jupyter-lab, <a href=https://blog.csdn.net/BenSYZ/article/details/107775517>见此</a> ## TL, DR 1. install this extension, and change the <code>vim .jupyter/custom/custom.js</code>, map <code>n</code> and <code>e</code>. Reason is that this extension can help you jump from cells to cells.</p><ol start=2 type=1><li>change the codemirror in notebook package.</li></ol><pre><code>~/.local/lib/python3.8/site-packages/notebook/static/components/codemirror/keymap/vim.js</code></pre><p>My example is <a href=https://github.com/BenSYZ/jupyter-vim-binding-colemak/tree/master/colemak>here</a> ## Essay Vimer 很多，所以有作者开发了<a href=jupyter-vim-binding>jupyter-vim-binding</a>。 colemaker 很少，而上面的 jupyter-vim-binding 的作者只提供了移动的API，不能做到映射全部的键位。</p><p>我本想修改这个插件来扩展它的功能。从 <a href=https://codemirror.net/>codemirror</a> 官网下下了 codemirror 的代码，对照了jupyter-vim-binding 对<code>hi</code>(qwert: <code>hl</code>)方向的修改成功了，但是 colemak 向下是<code>n</code>键，所以还需把搜索键引入进来，同样的方法试了一下不行，发现源码中涉及的函数太多，只会照猫画虎。</p><p>弄了一天，终于搜对了关键字 “jupyter notebook 自定义 codemirror”， 谷歌对中文的支持不好，英文搜出来的修改的手段也太官方了，所以一直解决不了，百度搜到了<a href=https://www.cnblogs.com/ZhangHT97/p/13336975.html>Jupyter Notebook 更改字体、字体大小、行高</a>。</p><p>nb! 直接修改 codemirror 在 jupyter 中的源码</p><pre><code>~/.local/lib/python3.8/site-packages/notebook/static/components/codemirror/keymap/vim.js</code></pre><p>（写这篇文章的时候想到，其实早该想到 jupyter 没有把 codemirror 当作插件，既然这么无从下手，那说明 codemirror 必定是随着 jupyter 一起装的）</p><p>到这里事情差不多解决了，突然想到既然这样，jupyter-vim-binding 就没有用了呀。事实告诉我的确如此。然而问题是按<code>n</code>(<code>j</code>)不能跳到下一个cell，想到jupyter-vim-binding 不是有这部份吗（在之前想扩展它的功能时看到的）再次启用这个插件，这次我使用了原版的插件。把我自己的部分去掉了。这次问题是真的解决了，啊，完美！！！</p><p>现在回想起来这个插件的作者不是不想继续扩展而是没必要啊。</p></div><div id=Rsidebar><div id=Avatar><img alt=avatar src=/avatar.jpg></div><ul><li><a href=/about>About Me</a></li><li><a href=/donate>Donate Me</a></li><li><a href=/>Ben's Blog</a></li></ul>除非注明，本博客所有文章皆为原创。<br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</div></div><div class=footer><div id=tags><a href=https://bensyz.github.io/blog/tags><i class="fas fa-tags"></i></a>
Keywords:<ul><li><a href=https://bensyz.github.io/blog/tags/jupyterlab>jupyterlab</a></li><li><a href=https://bensyz.github.io/blog/tags/colemak>colemak</a></li><li><a href=https://bensyz.github.io/blog/tags/python>python</a></li></ul></div><footer><hr><a href=/>Ben's Blog</a><br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。<br><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33028102001039"><img alt=public_safety_record src=/icons/public_safety_icon.png>浙公网安备 33028102001039号</a>
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备2021032097号-1</a></footer></div></div></body></html>