<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>通过修改注册表修改Windows键位为colemak</title><script src=/js/if_mobile.js></script>
<script>!function(){$("pre > code").each(function(){var s,n=$(this).parent().attr("class");n==null||n===""?$(this).addClass("hljs"):(s={js:"javascript"},s[n]&&(n=s[n]),$(this).addClass(n))})}</script><link rel=stylesheet href=/css/hljs/snazzy.css><link rel=stylesheet href=/css/hljs/line-numbers.min.css><script src=/js/hljs/highlight.min.js></script>
<script src=/js/hljs/highlightjs-line-numbers.min.js></script>
<script>hljs.highlightAll()</script><script>hljs.initLineNumbersOnLoad()</script><link rel=stylesheet href=/css/code.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/footer.css><link rel=stylesheet href=/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=icon id=light-scheme-icon href=/favicons/favicon_B_Light.ico type=image/x-icon><link rel=icon id=dark-scheme-icon href=/favicons/favicon_B_Dark.ico type=image/x-icon><script src=/js/favicon.js></script></head><body><div class=container><div class=header><h1>通过修改注册表修改Windows键位为colemak</h1>Thu, 2020-07-30<br>本文最后修改于 Mon, 2021-11-01<hr></div><div class=middle><div id=TitleWithToc><div id=TitleOfToc>通过修改注册表修改Windows键位为colemak</div></div><div id=content><p>我原先发于 <a href=https://blog.csdn.net/BenSYZ>CSDN</a></p><h2 id=tl-dr>TL; DR</h2><h3 id=转-colemak>1. 转 colemak</h3><pre class=reg><code>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]
&quot;Scancode Map&quot;=hex:00,00,00,00,00,00,00,00,14,00,00,00,3a,00,01,00,01,00,3a,00,\
  21,00,12,00,19,00,13,00,22,00,14,00,24,00,15,00,26,00,16,00,16,00,17,00,15,\
  00,18,00,27,00,19,00,13,00,1f,00,1f,00,20,00,14,00,21,00,20,00,22,00,31,00,\
  24,00,12,00,25,00,17,00,26,00,18,00,27,00,25,00,31,00,00,00,00,00</code></pre><h3 id=esc-caps-lock-互换>2. <code>&lt;Esc></code> <code>&lt;Caps Lock></code> 互换</h3><pre class=reg><code>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]
&quot;Scancode Map&quot;=hex:00,00,00,00,00,00,00,00,03,00,00,00,3a,00,01,00,01,00,3a,00,00,00,00,00,00</code></pre><h2 id=问题>问题</h2><p><a href=../keyboard_map_linux>在Linux中修改键盘为colemak键盘很容易</a>：</p><div class=sourceCode id=cb3><pre class="sourceCode sh"><code class="sourceCode bash"><span id=cb3-1><a href=#cb3-1 aria-hidden=true></a><span class=co># 暂时</span></span>
<span id=cb3-2><a href=#cb3-2 aria-hidden=true></a><span class=ex>setxkbmap</span> us -variant colemak</span>
<span id=cb3-3><a href=#cb3-3 aria-hidden=true></a><span class=ex>setxkbmap</span> us -variant workman</span>
<span id=cb3-4><a href=#cb3-4 aria-hidden=true></a><span class=ex>setxkbmap</span> us -variant norman</span>
<span id=cb3-5><a href=#cb3-5 aria-hidden=true></a></span>
<span id=cb3-6><a href=#cb3-6 aria-hidden=true></a><span class=co># Ubuntu</span></span>
<span id=cb3-7><a href=#cb3-7 aria-hidden=true></a><span class=fu>sudo</span> dpkg-reconfigure keyboard-configuration</span>
<span id=cb3-8><a href=#cb3-8 aria-hidden=true></a></span>
<span id=cb3-9><a href=#cb3-9 aria-hidden=true></a><span class=co># Arch</span></span>
<span id=cb3-10><a href=#cb3-10 aria-hidden=true></a><span class=fu>loadkeys</span> colemak</span></code></pre></div><p>但是在Windows中就很麻烦了，有推荐在<a href=https://colemak.com/Windows>这里</a>下载安装，然后修改这一项注册表<code>\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layouts\00000804</code> 但是我的使用体验并不好，所以直接修改注册表来映射。</p><h2 id=解决>解决</h2><p>新建一个txt文档，填入下面内容后，修改扩展名为<code>reg</code>，然后双击，也可以手动添加项。</p><pre class=reg><code>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]
&quot;Scancode Map&quot;=hex:00,00,00,00,00,00,00,00,14,00,00,00,3a,00,01,00,01,00,3a,00,\
  21,00,12,00,19,00,13,00,22,00,14,00,24,00,15,00,26,00,16,00,16,00,17,00,15,\
  00,18,00,27,00,19,00,13,00,1f,00,1f,00,20,00,14,00,21,00,20,00,22,00,31,00,\
  24,00,12,00,25,00,17,00,26,00,18,00,27,00,25,00,31,00,00,00,00,00</code></pre><p>上面这段注册表的作用是在<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout</code>项中新建了一个二进制值<code>Scancode Map</code>，它的值为等号后面的。具体格式请见 Old_Driver_Lee的<a href=https://blog.csdn.net/Ace_Shiyuan/article/details/81283065>博客</a>。需要注意的是一开始的<code>14</code>是16进制，代表下面有20行。</p><p>另外键位码请看 古城月雨细的<a href=https://blog.csdn.net/lhdalhd1996/article/details/90741092>博客</a>，在第二篇文章中也提到了作者提供的键位码是要把高低字节交换一下，就比方说作者提供的<code>Caps Lock 00 3A</code>，在修改注册表时需要写成<code>3A 00</code>。另外那篇文章只介绍了两个键位互换，所以会分不清楚，哪个是原来的码，哪个是实际要输入的码，经过尝试，发现后面的是原来的键位，前面的是我实际想要的输出的码。举个例子：</p><pre class=reg><code>3a,00,01,00</code></pre><p>这串是指，按的是<code>01 00</code>键，实际输出的是<code>3a 00</code>, 也就是按下<code>Escape</code> 输出的是<code>Caps Lock</code> 键</p><h2 id=esc-caps-lock-互换-1><code>&lt;Esc></code> <code>&lt;Caps Lock></code> 互换</h2><pre class=reg><code>Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]
&quot;Scancode Map&quot;=hex:00,00,00,00,00,00,00,00,03,00,00,00,3a,00,01,00,01,00,3a,00,00,00,00,00,00</code></pre><pre class=reg><code>00,00,00,00,
00,00,00,00,
14,00,00,00,

3a,00,01,00,
01,00,3a,00,

21,00,12,00,
19,00,13,00,
22,00,14,00,
24,00,15,00,
26,00,16,00,
16,00,17,00,
15,00,18,00,
27,00,19,00,
13,00,1f,00,
1f,00,20,00,
14,00,21,00,
20,00,22,00,
31,00,24,00,
12,00,25,00,
17,00,26,00,
18,00,27,00,
25,00,31,00,
00,00,00,00


# 换过顺序的
A 1E 00 
B 30 00 
C 2E 00 
D 20 00 
E 12 00 
F 21 00 
G 22 00 
H 23 00 
I 17 00 
J 24 00 
K 25 00 
L 26 00 
M 32 00 
N 31 00 
O 18 00 
P 19 00 
Q 10 00 
R 13 00 
S 1F 00 
T 14 00 
U 16 00 
V 2F 00 
W 11 00 
X 2D 00 
Y 15 00 
Z 2C 00 </code></pre><h2 id=恢复>恢复</h2><p>删除此注册表项</p></div><div id=Rsidebar><div id=Avatar><img alt=avatar src=/avatar.jpg></div><ul><li><a href=/about>About Me</a></li><li><a href=/donate>Donate Me</a></li><li><a href=/>Ben's Blog</a></li></ul>除非注明，本博客所有文章皆为原创。<br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</div></div><div class=footer><div id=tags><a href=https://bensyz.github.io/blog/tags><i class="fas fa-tags"></i></a>
Keywords:<ul><li><a href=https://bensyz.github.io/blog/tags/csdn>csdn</a></li><li><a href=https://bensyz.github.io/blog/tags/keyboard>keyboard</a></li><li><a href=https://bensyz.github.io/blog/tags/Windows>Windows</a></li><li><a href=https://bensyz.github.io/blog/tags/colemak>colemak</a></li></ul></div><footer><hr><a href=/>Ben's Blog</a><br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。<br><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33028102001039"><img alt=public_safety_record src=/icons/public_safety_icon.png>浙公网安备 33028102001039号</a>
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备2021032097号-1</a></footer></div></div></body></html>