<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>github on Ben's Blog</title><link>https://bensyz.github.io/blog/tags/github/</link><description>Recent content in github on Ben's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 22 Dec 2021 13:36:53 +0800</lastBuildDate><atom:link href="https://bensyz.github.io/blog/tags/github/index.xml" rel="self" type="application/rss+xml"/><item><title>github 使用key 来pull fetch</title><link>https://bensyz.github.io/blog/blogs/github_key/</link><pubDate>Wed, 22 Dec 2021 13:36:53 +0800</pubDate><guid>https://bensyz.github.io/blog/blogs/github_key/</guid><description>&lt;h2 id="问题的出现">问题的出现&lt;/h2>
&lt;p>github 似乎不能使用帐号密码来push了，我们这里介绍一下如何使用 rsa 密钥对来进行身份认证。&lt;/p>
&lt;p>github 上有&lt;a href="https://docs.github.com/cn/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">文档&lt;/a>&lt;/p>
&lt;h2 id="如何操作">如何操作&lt;/h2>
&lt;h3 id="生成密钥对">生成密钥对&lt;/h3>
&lt;p>在&lt;code>~/.ssh&lt;/code>下生成 rsa 非对称密钥对，可以把密钥名取为&lt;code>github&lt;/code>，可以不用设置密码&lt;/p>
&lt;pre class="shell">&lt;code>$ cd ~/.ssh/
$ ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/ben/.ssh/id_rsa): github&lt;/code>&lt;/pre>
&lt;p>非对称密钥对在我 &lt;a href="../rsa_ssh/">ssh 免密登录&lt;/a>里有讲到一点。&lt;/p>
&lt;p>于是我们得到了 &lt;code>github&lt;/code> 这一密钥 和 &lt;code>github.pub&lt;/code> 这一公钥。将 &lt;code>github.pub&lt;/code> 中的内容拷贝出来，一会儿放在 github 上&lt;/p>
&lt;h3 id="将公钥内容拷贝到-github-上">将公钥内容拷贝到 github 上&lt;/h3>
&lt;ul>
&lt;li>点击路径：头像-&amp;gt; Settings -&amp;gt; 左侧SSH and GPG keys&lt;/li>
&lt;li>或者直接访问这个链接 &lt;a href="https://github.com/settings/keys">https://github.com/settings/keys&lt;/a>&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr class="header">
&lt;th>&lt;img src="./figures/steps_to_keys.png" alt="steps to keys" />&lt;/th>
&lt;th>&lt;img src="./figures/steps_to_keys2.png" alt="steps to keys2" />&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;/tbody>
&lt;/table>
&lt;p>然后就是 New SSH key&lt;/p>
&lt;figure>
&lt;img src="./figures/new_ssh_key.png" alt="" />&lt;figcaption>new ssh key&lt;/figcaption>
&lt;/figure>
&lt;p>把内容拷贝到 Key 框下，title 就是自己知道的标记&lt;/p>
&lt;figure>
&lt;img src="./figures/key_example.png" alt="" />&lt;figcaption>key example&lt;/figcaption>
&lt;/figure>
&lt;p>&lt;code>Add SSH key&lt;/code> 后这样远端的配置就好啦&lt;/p>
&lt;h3 id="让本地密钥生效">让本地密钥生效&lt;/h3>
&lt;p>远端的公钥准备好了，那如何使第一步中生成的密钥在 &lt;code>git push&lt;/code> 时生效呢&lt;/p>
&lt;pre class="sshconfig">&lt;code>host github.com
HostName github.com
IdentityFile ~/.ssh/github
User git
ForwardX11 no&lt;/code>&lt;/pre>
&lt;p>&lt;a href="../rsa_ssh/#附不用输入nameip的方法">ssh 免密登录&lt;/a>中有提到这点也有讲到。&lt;/p>
&lt;p>github 的目标和 ssh 的差不多的:&lt;/p>
&lt;div class="sourceCode" id="cb3">&lt;pre class="sourceCode sh">&lt;code class="sourceCode bash">&lt;span id="cb3-1">&lt;a href="#cb3-1" aria-hidden="true">&lt;/a>&lt;span class="fu">ssh&lt;/span> name@ip&lt;/span>
&lt;span id="cb3-2">&lt;a href="#cb3-2" aria-hidden="true">&lt;/a>&lt;span class="fu">git&lt;/span> clone git@github.com:BenSYZ/blog.git&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;p>解释一下 &lt;code>~/.ssh/config&lt;/code>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>host&lt;/code> 的 &lt;code>github.com&lt;/code> 其实对应的就是这里的&lt;code>git@github.com&lt;/code>，你可以把它换成任意你喜欢的，但是为了方便，在github 拷贝的 clone 就是 &lt;code>git@github.com:BenSYZ/blog.git&lt;/code>， 所以我们将它也设置成了 &lt;code>github.com&lt;/code>&lt;/li>
&lt;li>&lt;code>Hostname&lt;/code>：是真正访问的地址&lt;/li>
&lt;li>&lt;code>IdentityFile&lt;/code>：刚刚生成的密钥&lt;/li>
&lt;li>&lt;code>User&lt;/code>：就是 &lt;code>git@github.com:BenSYZ/blog.git&lt;/code> 中&lt;code>@&lt;/code>前的用户名&lt;/li>
&lt;li>&lt;code>ForwardX11&lt;/code>：若为yes 就等同于 &lt;code>ssh -X&lt;/code> 这样就可以启动远程的图形界面啦。&lt;/li>
&lt;/ul></description></item></channel></rss>